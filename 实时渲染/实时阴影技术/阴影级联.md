# 阴影级联
[[shadows_egsr2004_revised.pdf]]
## 思想
为了解决透视摄像机造成的阴影锯齿的问题（离视点越近，阴影贴图每纹素覆盖的实际覆盖场景面积越大），将摄像机的视锥体划分成几个区域，为每一个区域分别绘制不同分辨率的阴影贴图，使得近处的阴影贴图分辨率高，远处的低，从而解决锯齿问题

## 误差的定义
$$
\begin{matrix}
n:近平面距离\\
f:远平面距离\\
z:着色表面相对于摄像机的深度\\
dp:摄像机每像素宽度\\
dy:着色表面投影到垂直深度方向的高度\\
dz:着色表面投影到深度方向的宽度\\
ds:着色表面投影到阴影贴图平面的像素宽度\\
\phi:着色表面法线与摄像机front向量的角度\\
\theta:着色表面与阴影贴图法线方向的角度\\
\end{matrix}
$$
$$
\begin{matrix}
由透视投影:\frac{dp}{dy}=\frac{n}{z}\\

\end{matrix}
$$