# 动画混合
## 原理
在不同的Clip之间各取一帧进行线性插值

## 时间线对齐(Timeline Align)
+ 例如跑和走的步频不同，如果不进行对齐的话两个步频的插值就会出问题
+ 要求动画师在归一化的时间里面，每一步落地的时间都一样

## 混合算法
### 混合空间
+ 将每一个对立的Clip放在同一个轴的两边，不同轴在一起就形成了混合空间，混合空间中的每一点就是一个动画素材，决定了插值时对每一个Clip的权重。
+ Clip在动画空间中的分布不一定时均匀的，取决于动画师的调教
+ 计算时，不是将所有的Clip来进行插值，是在Blend Space上的点进行三角化之后，混合点对在其处于的三角形中的三个Clip进行插值计算

### Skeleton Mask Blending
类似鼓掌这样的动作只会使一部分的骨骼发生变化，这时候鼓掌的动画就只会影响到一部分的骨骼而非全部的骨骼

### Additive Blending
在上述混合完成之后，加上一些修饰量组成最后的动画（类似动画的后处理？）

## 动画状态机
与游戏进行交互的时候，将动画树等用状态机的结点组织起来。

### Cross Fades
动画切换时的渐变模式，一般有两种：
+ 平滑切换(Smooth Transition)：切换时两个动画处于播放并根据曲线插值切换
+ Frozen Transition：原动画停止播放，新动画开始播放并插值切换过去

### 层次状态机
不同的骨骼部分用相互独立的状态机来控制

## 动画混合树
类似于表达式树，运用一些结点连接来表达动画Clip的混合、相加等等。